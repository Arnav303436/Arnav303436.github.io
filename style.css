/* --- GLOBAL STYLES & SETUP --- */
body {
    font-family: 'Lora', serif;
    background-color: #fdfaf6;
    color: #4a4a4a;
    margin: 0;
}
header {
    background: #8d6e63;
    color: #fff;
    padding: 1.5rem 0;
    text-align: center;
}
main {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 50px;
}
a.person {
    border: 1px solid #d7ccc8;
    padding: 10px 20px;
    text-decoration: none;
    color: #5d4037;
    background-color: #fff;
    display: inline-block;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    min-width: 100px;
    text-align: center;
}

/* --- TREE LAYOUT & CONNECTORS --- */
.tree-root { position: relative; padding-bottom: 50px; }
.tree-root::after { /* Vertical line from Granny */
    content: ''; position: absolute; left: 50%; top: 100%; transform: translateX(-50%);
    height: 25px; width: 2px; background-color: #bcaaa4;
}

.branches { display: flex; align-items: flex-start; position: relative; }
.branches::before { /* Horizontal line connecting branches */
    content: ''; position: absolute; top: -25px; left: 0; right: 0;
    height: 2px; background-color: #bcaaa4;
}

.branch { flex: 1; min-width: 450px; display: flex; flex-direction: column; align-items: center; position: relative; padding: 25px; }
.branch::before { /* Vertical line to connector */
    content: ''; position: absolute; left: 50%; top: 0; transform: translateX(-50%);
    height: 25px; width: 2px; background-color: #bcaaa4;
}

.node { position: relative; padding: 30px 0; }
.node::before { /* Vertical line from parent */
    content: ''; position: absolute; left: 50%; bottom: 100%; transform: translateX(-50%);
    height: 30px; width: 2px; background-color: #bcaaa4;
}
.root > .node::before { display: none; }

.children-group { display: flex; justify-content: center; position: relative; }
.children-group::before { /* Horizontal line for children */
    content: ''; position: absolute; top: -30px; left: 10%; right: 10%;
    height: 2px; background-color: #bcaaa4;
}
.node > .children-group { margin-top: 30px; }

/* --- SPECIAL LABELS --- */
.labeled-node { margin-left: 20px; }
.same-person-label { position: absolute; top: -38px; left: -20px; color: #c62828; font-style: italic; background: #fdfaf6; padding: 0 5px; }
.labeled-node::before { border-left: 2px dashed #c62828; }

/* --- RIGHT BRANCH DIAGRAM (CSS GRID) --- */
#right-branch { min-width: 500px; }
.diagram-grid {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    grid-template-rows: auto auto auto auto;
    gap: 40px 10px;
    align-items: center;
    position: relative;
    border: 2px solid #bcaaa4;
    padding: 20px;
    margin-top: 30px;
}
#cherry { grid-column: 2; grid-row: 1; }
#tara { grid-column: 1; grid-row: 2; }
#shivest { grid-column: 3; grid-row: 2; }
#ivy { grid-column: 2; grid-row: 3; }

.diagram-grid > .label {
    color: #c62828; font-style: italic; font-size: 12px;
}
#label-chintu { grid-column: 1; grid-row: 1; justify-self: right; transform: rotate(-90deg) translate(50%, -10px); }
#label-gooners { grid-column: 3; grid-row: 1; justify-self: left; transform: translate(-20px, 20px); }
#label-tara { grid-column: 1; grid-row: 3; justify-self: right; transform: rotate(90deg) translate(-50%, -10px); }
#label-fumble { grid-column: 3; grid-row: 3; justify-self: left; transform: translate(-30px, -20px); }

/* --- MODAL (POPUP) --- */
.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); }
.modal-content { background-color: #fff; margin: 15% auto; padding: 30px 40px; width: 90%; max-width: 500px; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); text-align: center; position: relative; }
.close-button { color: #ccc; position: absolute; top: 10px; right: 20px; font-size: 30px; font-weight: bold; cursor: pointer; }
#modal-name { margin: 0 0 15px 0; color: #5d4037; font-size: 2rem; }
#modal-description { font-size: 1.1rem; color: #757575; }
